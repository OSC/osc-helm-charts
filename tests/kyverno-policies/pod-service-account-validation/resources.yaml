---
apiVersion: v1
kind: Pod
metadata:
  name: test-service-account-skip
  namespace: user-test
spec: 
  containers:
  - name: nginx
    image: nginx:1.12
---
apiVersion: v1
kind: Pod
metadata:
  name: test-service-account-webservice-pass
  namespace: webservice
  labels:
    osc.edu/service-account: user
spec:
  containers:
  - name: nginx
    image: nginx:1.12
---
apiVersion: v1
kind: Pod
metadata:
  name: test-service-account-webservice-fail
  namespace: webservice
spec: 
  containers:
  - name: nginx
    image: nginx:1.12
---
apiVersion: v1
kind: Pod
metadata:
  name: pods-require-valid-service-account-uid-skip
  namespace: user-test
spec:
  securityContext:
    supplementalGroups: []
  containers:
  - name: nginx
    image: nginx:1.12
---
apiVersion: v1
kind: Pod
metadata:
  name: pods-require-valid-service-account-webservice-uid-skip-op
  namespace: webservice
  labels:
    osc.edu/service-account: test
spec:
  securityContext:
    runAsUser: 1000
    runAsGroup: 1001
    fsGroup: 1001
    supplementalGroups: []
    runAsNonRoot: true
  containers:
  - name: nginx
    image: nginx:1.12
---
apiVersion: v1
kind: Pod
metadata:
  name: pods-require-valid-service-account-webservice-uid-pass
  namespace: webservice
  labels:
    osc.edu/service-account: test
spec:
  securityContext:
    runAsUser: 1000
    runAsGroup: 1001
    fsGroup: 1001
    supplementalGroups: []
    runAsNonRoot: true
  containers:
  - name: nginx
    image: nginx:1.12
---
apiVersion: v1
kind: Pod
metadata:
  name: pods-require-valid-service-account-webservice-uid-container-pass
  namespace: webservice
  labels:
    osc.edu/service-account: test
spec:
  securityContext:
    supplementalGroups: []
  containers:
  - name: nginx
    image: nginx:1.12
    securityContext:
      runAsUser: 1000
      runAsGroup: 1001
---
apiVersion: v1
kind: Pod
metadata:
  name: pods-require-valid-service-account-webservice-uid-init-pass
  namespace: webservice
  labels:
    osc.edu/service-account: test
spec:
  securityContext:
    supplementalGroups: []
  containers:
  - name: nginx
    image: nginx:1.12
    securityContext:
      runAsUser: 1000
      runAsGroup: 1001
  initContainers:
  - name: nginx
    image: nginx:1.12
    securityContext:
      runAsUser: 1000
      runAsGroup: 1001
---
apiVersion: v1
kind: Pod
metadata:
  name: pods-require-valid-service-account-webservice-uid-fail
  namespace: webservice
  labels:
    osc.edu/service-account: test
spec:
  securityContext:
    runAsUser: 1002
    runAsGroup: 1001
    fsGroup: 1001
    supplementalGroups: []
    runAsNonRoot: true
  containers:
  - name: nginx
    image: nginx:1.12
---
apiVersion: v1
kind: Pod
metadata:
  name: pods-require-valid-service-account-webservice-uid-container-fail
  namespace: webservice
  labels:
    osc.edu/service-account: test
spec:
  securityContext:
    supplementalGroups: []
  containers:
  - name: nginx
    image: nginx:1.12
    securityContext:
      runAsUser: 1002
      runAsGroup: 1001
---
apiVersion: v1
kind: Pod
metadata:
  name: pods-require-valid-service-account-webservice-uid-init-fail
  namespace: webservice
  labels:
    osc.edu/service-account: test
spec:
  securityContext:
    supplementalGroups: []
  containers:
  - name: nginx
    image: nginx:1.12
    securityContext:
      runAsUser: 1002
      runAsGroup: 1001
  initContainers:
  - name: nginx
    image: nginx:1.12
    securityContext:
      runAsUser: 1002
      runAsGroup: 1001
---
apiVersion: v1
kind: Pod
metadata:
  name: pods-require-valid-service-account-gid-skip
  namespace: user-test
spec:
  securityContext:
    supplementalGroups: []
  containers:
  - name: nginx
    image: nginx:1.12
---
apiVersion: v1
kind: Pod
metadata:
  name: pods-require-valid-service-account-webservice-gid-skip-op
  namespace: webservice
  labels:
    osc.edu/service-account: test
spec:
  securityContext:
    runAsUser: 1000
    runAsGroup: 1001
    fsGroup: 1001
    supplementalGroups: []
    runAsNonRoot: true
  containers:
  - name: nginx
    image: nginx:1.12
---
apiVersion: v1
kind: Pod
metadata:
  name: pods-require-valid-service-account-webservice-gid-pass
  namespace: webservice
  labels:
    osc.edu/service-account: test
spec:
  securityContext:
    runAsUser: 1000
    runAsGroup: 1001
    fsGroup: 1001
    supplementalGroups: []
    runAsNonRoot: true
  containers:
  - name: nginx
    image: nginx:1.12
---
apiVersion: v1
kind: Pod
metadata:
  name: pods-require-valid-service-account-webservice-gid-container-pass
  namespace: webservice
  labels:
    osc.edu/service-account: test
spec:
  securityContext:
    supplementalGroups: []
  containers:
  - name: nginx
    image: nginx:1.12
    securityContext:
      runAsUser: 1000
      runAsGroup: 1001
---
apiVersion: v1
kind: Pod
metadata:
  name: pods-require-valid-service-account-webservice-gid-init-pass
  namespace: webservice
  labels:
    osc.edu/service-account: test
spec:
  securityContext:
    supplementalGroups: []
  containers:
  - name: nginx
    image: nginx:1.12
    securityContext:
      runAsUser: 1000
      runAsGroup: 1001
  initContainers:
  - name: nginx
    image: nginx:1.12
    securityContext:
      runAsUser: 1000
      runAsGroup: 1001
---
apiVersion: v1
kind: Pod
metadata:
  name: pods-require-valid-service-account-webservice-gid-fail
  namespace: webservice
  labels:
    osc.edu/service-account: test
spec:
  securityContext:
    runAsUser: 1000
    runAsGroup: 1003
    fsGroup: 1001
    supplementalGroups: []
    runAsNonRoot: true
  containers:
  - name: nginx
    image: nginx:1.12
---
apiVersion: v1
kind: Pod
metadata:
  name: pods-require-valid-service-account-webservice-gid-container-fail
  namespace: webservice
  labels:
    osc.edu/service-account: test
spec:
  securityContext:
    supplementalGroups: []
  containers:
  - name: nginx
    image: nginx:1.12
    securityContext:
      runAsUser: 1000
      runAsGroup: 1003
---
apiVersion: v1
kind: Pod
metadata:
  name: pods-require-valid-service-account-webservice-gid-init-fail
  namespace: webservice
  labels:
    osc.edu/service-account: test
spec:
  securityContext:
    supplementalGroups: []
  containers:
  - name: nginx
    image: nginx:1.12
    securityContext:
      runAsUser: 1000
      runAsGroup: 1003
  initContainers:
  - name: nginx
    image: nginx:1.12
    securityContext:
      runAsUser: 1000
      runAsGroup: 1003
---
apiVersion: v1
kind: Pod
metadata:
  name: fsgroup-require-valid-service-account-gid-skip
  namespace: user-test
spec:
  securityContext:
    supplementalGroups: []
  containers:
  - name: nginx
    image: nginx:1.12
---
apiVersion: v1
kind: Pod
metadata:
  name: fsgroup-require-valid-service-account-webservice-gid-skip-op
  namespace: webservice
  labels:
    osc.edu/service-account: test
spec:
  securityContext:
    runAsUser: 1000
    runAsGroup: 1001
    fsGroup: 1001
    supplementalGroups: []
    runAsNonRoot: true
  containers:
  - name: nginx
    image: nginx:1.12
---
apiVersion: v1
kind: Pod
metadata:
  name: fsgroup-require-valid-service-account-webservice-gid-pass
  namespace: webservice
  labels:
    osc.edu/service-account: test
spec:
  securityContext:
    runAsUser: 1000
    runAsGroup: 1001
    fsGroup: 1001
    supplementalGroups: []
    runAsNonRoot: true
  containers:
  - name: nginx
    image: nginx:1.12
---
apiVersion: v1
kind: Pod
metadata:
  name: fsgroup-require-valid-service-account-webservice-gid-fail
  namespace: webservice
  labels:
    osc.edu/service-account: test
spec:
  securityContext:
    runAsUser: 1000
    runAsGroup: 1001
    fsGroup: 1003
    supplementalGroups: []
    runAsNonRoot: true
  containers:
  - name: nginx
    image: nginx:1.12
---
apiVersion: v1
kind: Pod
metadata:
  name: test-groups-skip
  namespace: user-test
spec: 
  containers:
  - name: nginx
    image: nginx:1.12
---
apiVersion: v1
kind: Pod
metadata:
  name: test-groups-webservice-skip-op
  namespace: webservice
  labels:
    osc.edu/service-account: test
spec:
  securityContext:
    supplementalGroups:
      - 1002
  containers:
  - name: nginx
    image: nginx:1.12
---
apiVersion: v1
kind: Pod
metadata:
  name: test-groups-webservice-skip-len
  namespace: webservice
  labels:
    osc.edu/service-account: test
spec:
  securityContext:
    supplementalGroups: []
  containers:
  - name: nginx
    image: nginx:1.12
---
apiVersion: v1
kind: Pod
metadata:
  name: test-groups-webservice-pass
  namespace: webservice
  labels:
    osc.edu/service-account: test
spec:
  securityContext:
    supplementalGroups:
      - 1000
      - 1001
  containers:
  - name: nginx
    image: nginx:1.12
---
apiVersion: v1
kind: Pod
metadata:
  name: test-groups-webservice-fail
  namespace: webservice
  labels:
    osc.edu/service-account: test
spec:
  securityContext:
    supplementalGroups:
      - 1002
  containers:
  - name: nginx
    image: nginx:1.12
---
apiVersion: v1
kind: Pod
metadata:
  name: test-service-account-paas-pass
  namespace: paas
  labels:
    osc.edu/service-account: user
spec:
  containers:
  - name: nginx
    image: nginx:1.12
---
apiVersion: v1
kind: Pod
metadata:
  name: test-service-account-paas-fail
  namespace: paas
spec: 
  containers:
  - name: nginx
    image: nginx:1.12
---
apiVersion: v1
kind: Pod
metadata:
  name: pods-require-valid-service-account-paas-uid-skip
  namespace: user-test
spec:
  securityContext:
    supplementalGroups: []
  containers:
  - name: nginx
    image: nginx:1.12
---
apiVersion: v1
kind: Pod
metadata:
  name: pods-require-valid-service-account-paas-uid-skip-op
  namespace: paas
  labels:
    osc.edu/service-account: test
spec:
  securityContext:
    runAsUser: 1000
    runAsGroup: 1001
    fsGroup: 1001
    supplementalGroups: []
    runAsNonRoot: true
  containers:
  - name: nginx
    image: nginx:1.12
---
apiVersion: v1
kind: Pod
metadata:
  name: pods-require-valid-service-account-paas-uid-pass
  namespace: paas
  labels:
    osc.edu/service-account: test
spec:
  securityContext:
    runAsUser: 1000
    runAsGroup: 1001
    fsGroup: 1001
    supplementalGroups: []
    runAsNonRoot: true
  containers:
  - name: nginx
    image: nginx:1.12
---
apiVersion: v1
kind: Pod
metadata:
  name: pods-require-valid-service-account-paas-uid-container-pass
  namespace: paas
  labels:
    osc.edu/service-account: test
spec:
  securityContext:
    supplementalGroups: []
  containers:
  - name: nginx
    image: nginx:1.12
    securityContext:
      runAsUser: 1000
      runAsGroup: 1001
---
apiVersion: v1
kind: Pod
metadata:
  name: pods-require-valid-service-account-paas-uid-init-pass
  namespace: paas
  labels:
    osc.edu/service-account: test
spec:
  securityContext:
    supplementalGroups: []
  containers:
  - name: nginx
    image: nginx:1.12
    securityContext:
      runAsUser: 1000
      runAsGroup: 1001
  initContainers:
  - name: nginx
    image: nginx:1.12
    securityContext:
      runAsUser: 1000
      runAsGroup: 1001
---
apiVersion: v1
kind: Pod
metadata:
  name: pods-require-valid-service-account-paas-uid-fail
  namespace: paas
  labels:
    osc.edu/service-account: test
spec:
  securityContext:
    runAsUser: 1002
    runAsGroup: 1001
    fsGroup: 1001
    supplementalGroups: []
    runAsNonRoot: true
  containers:
  - name: nginx
    image: nginx:1.12
---
apiVersion: v1
kind: Pod
metadata:
  name: pods-require-valid-service-account-paas-uid-container-fail
  namespace: paas
  labels:
    osc.edu/service-account: test
spec:
  securityContext:
    supplementalGroups: []
  containers:
  - name: nginx
    image: nginx:1.12
    securityContext:
      runAsUser: 1002
      runAsGroup: 1001
---
apiVersion: v1
kind: Pod
metadata:
  name: pods-require-valid-service-account-paas-uid-init-fail
  namespace: paas
  labels:
    osc.edu/service-account: test
spec:
  securityContext:
    supplementalGroups: []
  containers:
  - name: nginx
    image: nginx:1.12
    securityContext:
      runAsUser: 1002
      runAsGroup: 1001
  initContainers:
  - name: nginx
    image: nginx:1.12
    securityContext:
      runAsUser: 1002
      runAsGroup: 1001
---
apiVersion: v1
kind: Pod
metadata:
  name: pods-require-valid-service-account-paas-gid-skip-op
  namespace: paas
  labels:
    osc.edu/service-account: test
spec:
  securityContext:
    runAsUser: 1000
    runAsGroup: 1001
    fsGroup: 1001
    supplementalGroups: []
    runAsNonRoot: true
  containers:
  - name: nginx
    image: nginx:1.12
---
apiVersion: v1
kind: Pod
metadata:
  name: pods-require-valid-service-account-paas-gid-pass
  namespace: paas
  labels:
    osc.edu/service-account: test
spec:
  securityContext:
    runAsUser: 1000
    runAsGroup: 1001
    fsGroup: 1001
    supplementalGroups: []
    runAsNonRoot: true
  containers:
  - name: nginx
    image: nginx:1.12
---
apiVersion: v1
kind: Pod
metadata:
  name: pods-require-valid-service-account-paas-gid-container-pass
  namespace: paas
  labels:
    osc.edu/service-account: test
spec:
  securityContext:
    supplementalGroups: []
  containers:
  - name: nginx
    image: nginx:1.12
    securityContext:
      runAsUser: 1000
      runAsGroup: 1001
---
apiVersion: v1
kind: Pod
metadata:
  name: pods-require-valid-service-account-paas-gid-init-pass
  namespace: paas
  labels:
    osc.edu/service-account: test
spec:
  securityContext:
    supplementalGroups: []
  containers:
  - name: nginx
    image: nginx:1.12
    securityContext:
      runAsUser: 1000
      runAsGroup: 1001
  initContainers:
  - name: nginx
    image: nginx:1.12
    securityContext:
      runAsUser: 1000
      runAsGroup: 1001
---
apiVersion: v1
kind: Pod
metadata:
  name: pods-require-valid-service-account-paas-gid-fail
  namespace: paas
  labels:
    osc.edu/service-account: test
spec:
  securityContext:
    runAsUser: 1000
    runAsGroup: 1003
    fsGroup: 1001
    supplementalGroups: []
    runAsNonRoot: true
  containers:
  - name: nginx
    image: nginx:1.12
---
apiVersion: v1
kind: Pod
metadata:
  name: pods-require-valid-service-account-paas-gid-container-fail
  namespace: paas
  labels:
    osc.edu/service-account: test
spec:
  securityContext:
    supplementalGroups: []
  containers:
  - name: nginx
    image: nginx:1.12
    securityContext:
      runAsUser: 1000
      runAsGroup: 1003
---
apiVersion: v1
kind: Pod
metadata:
  name: pods-require-valid-service-account-paas-gid-init-fail
  namespace: paas
  labels:
    osc.edu/service-account: test
spec:
  securityContext:
    supplementalGroups: []
  containers:
  - name: nginx
    image: nginx:1.12
    securityContext:
      runAsUser: 1000
      runAsGroup: 1003
  initContainers:
  - name: nginx
    image: nginx:1.12
    securityContext:
      runAsUser: 1000
      runAsGroup: 1003
---
apiVersion: v1
kind: Pod
metadata:
  name: fsgroup-require-valid-service-account-paas-gid-skip-op
  namespace: paas
  labels:
    osc.edu/service-account: test
spec:
  securityContext:
    runAsUser: 1000
    runAsGroup: 1001
    fsGroup: 1001
    supplementalGroups: []
    runAsNonRoot: true
  containers:
  - name: nginx
    image: nginx:1.12
---
apiVersion: v1
kind: Pod
metadata:
  name: fsgroup-require-valid-service-account-paas-gid-pass
  namespace: paas
  labels:
    osc.edu/service-account: test
spec:
  securityContext:
    runAsUser: 1000
    runAsGroup: 1001
    fsGroup: 1001
    supplementalGroups: []
    runAsNonRoot: true
  containers:
  - name: nginx
    image: nginx:1.12
---
apiVersion: v1
kind: Pod
metadata:
  name: fsgroup-require-valid-service-account-paas-gid-fail
  namespace: paas
  labels:
    osc.edu/service-account: test
spec:
  securityContext:
    runAsUser: 1000
    runAsGroup: 1001
    fsGroup: 1003
    supplementalGroups: []
    runAsNonRoot: true
  containers:
  - name: nginx
    image: nginx:1.12
---
apiVersion: v1
kind: Pod
metadata:
  name: test-groups-paas-skip-op
  namespace: paas
  labels:
    osc.edu/service-account: test
spec:
  securityContext:
    supplementalGroups:
      - 1002
  containers:
  - name: nginx
    image: nginx:1.12
---
apiVersion: v1
kind: Pod
metadata:
  name: test-groups-paas-skip-len
  namespace: paas
  labels:
    osc.edu/service-account: test
spec:
  securityContext:
    supplementalGroups: []
  containers:
  - name: nginx
    image: nginx:1.12
---
apiVersion: v1
kind: Pod
metadata:
  name: test-groups-paas-pass
  namespace: paas
  labels:
    osc.edu/service-account: test
spec:
  securityContext:
    supplementalGroups:
      - 1000
      - 1001
  containers:
  - name: nginx
    image: nginx:1.12
---
apiVersion: v1
kind: Pod
metadata:
  name: test-groups-paas-fail
  namespace: paas
  labels:
    osc.edu/service-account: test
spec:
  securityContext:
    supplementalGroups:
      - 1002
  containers:
  - name: nginx
    image: nginx:1.12
